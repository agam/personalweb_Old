<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Blog</title>
    <meta name="description" content="Agam's Blog">

    <link href="/static/images/favicon.ico" rel="shortcut icon" />
    <link href="/static/css/css-mini-reset.css" rel="stylesheet" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Crafty+Girls|Droid+Sans|Calligraffitti' rel='stylesheet' type='text/css'>
    <link href="/static/css/main.css" rel="stylesheet" type="text/css" />
    <!-- <link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap-1.2.0.min.css"> -->
    <style>
        footer { background: #edd8ba; }
        .blogpost { padding: 10px; margin-top: 20px; margin-bottom: 20px; }
        .blogposttitle { font-family: 'Droid Sans'; font-size: x-large; }
        .blogposttitle a:link { color: orange; }
        .blogposttitle a:visited { color: orange; }
        .blogpostdate { font-family: 'Droid Sans'; text-align: right; }
    </style>
    <script type="text/javascript" src="/static/js/showdown.js"></script>
    <script src="https://www.google.com/jsapi?key=ABQIAAAAnjiQb--VssnWxB8gJJANHRT8vATYeMg6i0IPOit6GndEekLi2xQ4F_cMnVxB8nQzMgqGJOUYavreNw" type="text/javascript"></script>
    <script language="Javascript" type="text/javascript">
        google.load("jquery", "1.6");

        function convert_blog_text() {
            var converter = new Showdown.converter();
            $(".blogpostbody").each(function(index) {
                    $(this).append(converter.makeHtml( $(this).children("textarea")[0].value ));
            });
        }

        google.setOnLoadCallback(convert_blog_text);
    </script>
</head>

<body>
    <h1 style="font-size:4em; text-align:center; margin-bottom:50px;">Bloggy</h1>
    <!-- Note: for a single post, the len(articles) == 1 -->
    {% for article in articles %}
    <div class="blogpost">
        <div class="blogposttitle"><a href = "/blog/article/{{ article.slug }}">{{ article.title|upper }}</a></div>
        <div class="blogpostbody">
            <textarea style="visibility:hidden;">{{ article.body }}</textarea>
        </div>
        <div class="blogpostdate">{{ article.published }}</div>
    </div>
    {% endfor %}
    <!-- Single article case -->
    {% if single_post %}
        <!-- TODO(agam): Add comments -->
    {% endif %}

    <footer>
    <p><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License</a>.
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-16612682-3']);
        _gaq.push(['_setDomainName', 'appengine.appspot.com']);
        _gaq.push(['_setAllowHash', false]);
        _gaq.push(['_trackPageview']);

        (function() {
         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
         ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
         })();
     </script>
     </footer>
</body>


